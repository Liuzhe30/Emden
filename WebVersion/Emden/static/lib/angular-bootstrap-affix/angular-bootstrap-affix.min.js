/**
 * angular-bootstrap-affix
 * @version v0.2.2 - 2016-08-11
 * @link https://github.com/maxisam/angular-bootstrap-affix
 * @author Olivier Louvignes (original), maxisam <maxisam@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.bootstrap.affix",["mgcrea.jquery"]).directive("bsAffix",["$window","dimensions",function($window,dimensions){var checkPosition=function(a,b,c){var d,e=window.pageYOffset,f=window.innerHeight,g=(document.body.scrollHeight,dimensions.offset.call(b[0])),h=dimensions.height.call(b[0]),i=(1*c.offsetTop,1*c.offsetBottom,"affix affix-top affix-bottom");null==a.originTop&&(a.originTop=g.top),d=f>=h&&a.originTop<=e?"top":h>=f&&e>=a.originTop?"bottom":!1,a.affixed!==d&&(a.affixed=d,b.removeClass(i).addClass(""+(d?"affix affix-"+d:"")))},checkCallbacks=function(scope,instance,iElement,iAttrs){instance.affixed?iAttrs.onUnaffix&&eval("scope."+iAttrs.onUnaffix):iAttrs.onAffix&&eval("scope."+iAttrs.onAffix)};return{restrict:"EAC",link:function(a,b,c){var d={unpin:null};angular.element($window).bind("scroll",function(){checkPosition(d,b,c),checkCallbacks(a,d,b,c)}),angular.element($window).bind("click",function(){setTimeout(function(){checkPosition(d,b,c),checkCallbacks(a,d,b,c)},1)})}}}]);